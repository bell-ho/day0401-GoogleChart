<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
		  google.charts.load('current', {'packages':['corechart']});
		  google.charts.setOnLoadCallback(drawChart);
function drawChart() {
	
	  // Create the data table.
	  $.ajax("/list.do",{success:function(i){
	  var data = new google.visualization.DataTable();
	  data.addColumn('string', 'Topping');
	  data.addColumn('number', 'Slices');
		  $.each(i,function(idx,item){
			  data.addRows([
				  [item.dname,item.cnt],
			  ]);
		  })
	  // Set chart options
	  var options = {'title':'How Much Pizza I Ate Last Night',
	                 'width':400,
	                 'height':300};
	
	  // Instantiate and draw our chart, passing in some options.
	  var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
	  chart.draw(data, options);
		  
	  }})
	
	}
	</script>
</head>
<body>
 	<div id="chart_div"></div>
</body>
</html>